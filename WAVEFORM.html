<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Uni.Circle | WAVEFORM_TERMINAL</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono&family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
    :root { 
        --bg-black: #000; 
        --accent-green: #00ff41; 
        --border: rgba(255, 255, 255, 0.1); 
        --type-font: 'Space Mono', monospace; 
        --pixel-font: 'Press Start 2P', cursive;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; font-family: var(--type-font) !important; }
    body { background: var(--bg-black); color: white; overflow-x: hidden; }
    
    #custom-cursor { position: fixed; width: 20px; height: 20px; border: 1.5px solid white; border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%); display: flex; align-items: center; justify-content: center; }
    #custom-cursor::after { content: ''; width: 3px; height: 3px; background: white; border-radius: 50%; }
    #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 40px; }

    /* Nav Bar */
    .header-nav { margin-top: 30px; padding: 15px 30px; background: rgba(255,255,255,0.02); border: 1px solid var(--border); border-radius: 12px; display: flex; justify-content: space-between; align-items: center; backdrop-filter: blur(10px); margin-bottom: 40px; }
    .brand { font-family: var(--pixel-font) !important; font-size: 0.6rem; color: #fff; text-decoration: none; }
    .nav-links { display: flex; gap: 20px; }
    .nav-link { font-size: 0.75rem; color: #666; text-decoration: none; transition: 0.3s; text-transform: uppercase; }
    .nav-link:hover { color: var(--accent-green); }

    /* Audio Visualizer Area */
    .visualizer-node { 
        background: rgba(255, 255, 255, 0.02); 
        border: 1px solid var(--border); 
        border-radius: 20px; 
        padding: 40px; 
        text-align: center;
        margin-bottom: 40px;
        position: relative;
    }

    .visualizer-bars {
        display: flex;
        align-items: flex-end;
        justify-content: center;
        gap: 4px;
        height: 150px;
        margin-bottom: 30px;
    }

    .bar {
        width: 8px;
        background: var(--accent-green);
        border-radius: 2px;
        transition: height 0.1s ease;
        box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
    }

    /* Player Controls */
    .audio-ui { border-top: 1px solid var(--border); padding-top: 30px; }
    .track-title { font-family: var(--pixel-font) !important; font-size: 0.8rem; color: var(--accent-green); margin-bottom: 5px; }
    .track-sub { font-size: 0.7rem; color: #444; margin-bottom: 20px; }

    audio { 
        width: 100%; 
        filter: invert(100%) hue-rotate(100deg) brightness(1.5); 
        height: 40px;
        margin-bottom: 20px;
    }

    /* Grid for Audio Library */
    .audio-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-bottom: 100px; }
    .audio-card { 
        background: rgba(255,255,255,0.02); 
        border: 1px solid var(--border); 
        border-radius: 12px; 
        padding: 20px; 
        display: flex; 
        align-items: center; 
        gap: 20px;
        transition: 0.3s;
    }
    .audio-card:hover { border-color: var(--accent-green); transform: translateX(10px); }
    .play-icon { color: var(--accent-green); font-size: 1.2rem; }
    .info h4 { font-size: 0.9rem; margin-bottom: 4px; color: #eee; }
    .info p { font-size: 0.7rem; color: #444; text-transform: uppercase; }

    footer { padding: 40px 0; border-top: 1px solid var(--border); text-align: center; font-size: 0.6rem; color: #333; letter-spacing: 4px; }
</style>
</head>
<body>

<div id="custom-cursor"></div>
<canvas id="bg-canvas"></canvas>

<div class="container">
    <nav class="header-nav">
        <a href="HOME.html" class="brand">UNI.CIRCLE | LECTURE</a>
        <div class="nav-links">
            <a href="HOME.html" class="nav-link">HOME</a>
            <a href="IIHAND.html" class="nav-link">MARKETPLACE</a>
            <a href="ABOUT.html" class="nav-link">ABOUT</a>
        </div>
    </nav>

    <div class="visualizer-node">
        <div class="visualizer-bars" id="vBars">
            </div>
        <div class="audio-ui">
            <h2 class="track-title" id="currentTitle">SYSTEM_IDLE</h2>
            <p class="track-sub">CHANNEL_STABLE // WAVEFORM_ENCRYPTION_ON</p>
            <audio id="mainAudio" controls>
                <source id="audioSrc" src="" type="audio/mpeg">
            </audio>
        </div>
    </div>

    <div class="audio-grid" id="audioContainer">
        </div>

    <footer>© 2024 UNI.CIRCLE // AUDIO_OS_V1.0</footer>
</div>

<script>
    // 1. AUDIO DATA
    const audioPlaylist = [
        { id: 1, title: "Biology Basics Lecture", artist: "Prof. Smith", file: "audio/biology_01.mp3" },
        { id: 2, title: "Neural Networks Part 1", artist: "Dr. AI", file: "audio/ai_01.mp3" },
        { id: 3, title: "Lo-Fi Study Session", artist: "Uni.Circle Beats", file: "audio/lofi.mp3" },
        { id: 4, title: "Data Structures Pod", artist: "Code Hub", file: "audio/ds_podcast.mp3" }
    ];

    // 2. INITIALIZE BARS
    const vBars = document.getElementById('vBars');
    const barCount = 40;
    for(let i=0; i<barCount; i++) {
        let bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = '10px';
        vBars.appendChild(bar);
    }

    function loadAudio() {
        const container = document.getElementById('audioContainer');
        container.innerHTML = audioPlaylist.map(track => `
            <div class="audio-card" onclick="playTrack('${track.file}', '${track.title}')">
                <div class="play-icon">▶</div>
                <div class="info">
                    <h4>${track.title}</h4>
                    <p>${track.artist}</p>
                </div>
            </div>
        `).join('');
    }

    function playTrack(file, title) {
        const player = document.getElementById('mainAudio');
        const source = document.getElementById('audioSrc');
        const bars = document.querySelectorAll('.bar');

        source.src = file;
        player.load();
        player.play();
        document.getElementById('currentTitle').innerText = title.toUpperCase();

        // Simulate Visualizer
        setInterval(() => {
            if(!player.paused) {
                bars.forEach(bar => {
                    let h = Math.random() * 140 + 10;
                    bar.style.height = h + 'px';
                });
            } else {
                bars.forEach(bar => bar.style.height = '10px');
            }
        }, 100);
    }

    // 3. CONSTELLATION ENGINE
    const bgCanvas = document.getElementById('bg-canvas');
    const bgCtx = bgCanvas.getContext('2d');
    bgCanvas.width = window.innerWidth; bgCanvas.height = window.innerHeight;
    let pts = [];
    for(let i=0; i<90; i++) pts.push({x:Math.random()*bgCanvas.width, y:Math.random()*bgCanvas.height, vx:(Math.random()-0.5)*0.3, vy:(Math.random()-0.5)*0.3});

    function drawBg() {
        bgCtx.fillStyle = '#000'; bgCtx.fillRect(0,0,bgCanvas.width,bgCanvas.height);
        pts.forEach((p, i) => {
            p.x += p.vx; p.y += p.vy;
            if(p.x<0 || p.x>bgCanvas.width) p.vx*=-1; if(p.y<0 || p.y>bgCanvas.height) p.vy*=-1;
            bgCtx.fillStyle = '#fff'; bgCtx.beginPath(); bgCtx.arc(p.x, p.y, 1, 0, Math.PI*2); bgCtx.fill();
            for(let j=i+1; j<pts.length; j++) {
                let d = Math.hypot(p.x-pts[j].x, p.y-pts[j].y);
                if(d < 150) {
                    bgCtx.strokeStyle = `rgba(0, 255, 65, ${0.12 - d/1000})`;
                    bgCtx.lineWidth = 0.5;
                    bgCtx.beginPath(); bgCtx.moveTo(p.x, p.y); bgCtx.lineTo(pts[j].x, pts[j].y); bgCtx.stroke();
                }
            }
        });
        requestAnimationFrame(drawBg);
    }

    document.addEventListener('mousemove', (e) => {
        document.getElementById('custom-cursor').style.left = e.clientX + 'px';
        document.getElementById('custom-cursor').style.top = e.clientY + 'px';
    });

    window.onload = loadAudio;
    drawBg();
</script>
</body>
</html>